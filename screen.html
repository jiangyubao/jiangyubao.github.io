<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>Screen</title>
    <script src="lib/ionic/js/ionic.bundle.min.js"></script>
    <script type="application/javascript">
        angular.module('myApp', []).controller('MyCtrl',
                function ($scope) {
                    $scope.model = {};
                    $scope.model.points = [];
                    $scope.model.results = [];
                    for (var i = 0; i < 10; i++) {
                        $scope.model.points.push({x: i, y: i});
                        $scope.model.results.push({bx: 0, by: 0, x: 0, y: 0});
                    }
                    $scope.cal = function (index) {
                        $scope.model.results[index].bx = parseInt($scope.model.points[index].x / 40);
                        $scope.model.results[index].by = parseInt($scope.model.points[index].y / 30);
                        $scope.model.results[index].x = Math.round(128 * ($scope.model.points[index].x % 40) / 40.64);
                        $scope.model.results[index].y = Math.round(128 * ($scope.model.points[index].y % 30) / 30.48);
                    }
                    for (var i = 0; i < 10; i++) {
                        $scope.cal(i);
                    }
                }).filter("hex", function () {
                    return function (v) {
                        var vv = v.toString(16);
                        if (vv.length == 1) {
                            return '0' + vv;
                        } else {
                            return vv;
                        }
                    };
                });
    </script>
</head>
<body ng-controller="MyCtrl">
<table border="1">
    <tr>
        <th>X</th>
        <th>Y</th>
        <th>(Y,X)</th>
    </tr>
    <tr ng-repeat="point in model.points">
        <td><input type="text" name="x1" ng-model="point.x" ng-change="cal($index)"></td>
        <td><input type="text" name="y1" ng-model="point.y" ng-change="cal($index)"></td>
        <td>
            {{model.results[$index].by|hex}}{{model.results[$index].y|hex}},{{model.results[$index].bx|hex}}{{model.results[$index].x|hex}}
        </td>
    </tr>
</table>
</body>
</html>
