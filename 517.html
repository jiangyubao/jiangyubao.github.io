<!DOCTYPE html>
<html ng-app="myApp">

<head>
    <meta charset="utf-8">
    <title>517</title>
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
    <script src="http://apps.bdimg.com/libs/angular.js/1.3.9/angular.min.js"></script>
    <style>
        form .ng-invalid.ng-dirty {
            background-color: lightpink;
        }

        form .ng-valid.ng-dirty {
            background-color: lightgreen;
        }
    </style>
    <script type="application/javascript">
        angular.module('myApp', []).controller('MyCtrl',
            function ($scope) {
                $scope.v1 = 23;
                $scope.v2 = 21;
                $scope.v3 = 24;
                $scope.v4 = 58;
                $scope.cal = function () {
                    expr = "";
                    var op = ['+', '-', '*', '/'];
                    for (var i = 0; i < op.length; i++) {
                        for (var j = 0; j < op.length; j++) {
                            if (i != j) {
                                for (var k = 0; k < op.length; k++) {
                                    if (j != k && i != k) {
                                        var expr = $scope.v1 + op[i] + $scope.v2 + op[j] +
                                            $scope.v3 + op[k] + $scope.v4;
                                        if (eval(expr) == 517) {
                                            $scope.expr = expr;
                                            return;
                                        }
                                    }
                                }
                            }
                        }
                    }
                };
                $scope.cal();
            });
    </script>
</head>

<body ng-controller="MyCtrl">
    <div class="panel panel-default">
        <div class="panel-heading">
        </div>
        <div class="panel-body">
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="diaogui_length" class="col-xs-2 control-label">数字1:</label>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" required ng-model="v1" id="v1" placeholder="数字1">
                    </div>
                </div>
                <div class="form-group">
                    <label for="taimian_length" class="col-xs-2 control-label">数字2:</label>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" required ng-model="v2" id="v2" placeholder="数字2">
                    </div>
                </div>
                <div class="form-group">
                    <label for="digui_length" class="col-xs-2 control-label">数字3:</label>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" required ng-model="v3" id="v3" placeholder="数字3">
                    </div>
                </div>
                <div class="form-group">
                    <label for="gaogui_length" class="col-xs-2 control-label">数字4:</label>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" required ng-model="v4" id="v4" placeholder="数字4">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-offset-2 col-xs-10">
                        <button type="submit" class="btn btn-default" ng-click="cal()">计算</button>
                    </div>
                </div>
            </form>
            {{expr}}=517
        </div>
</body>

</html>